---
title: Shipping address | Shopinvader demo
slug: address
handle: cart_address
position: 4
listed: false
published: true
is_layout: false
---
{% extends "layouts/checkout" %}

{% block content/main %}
<div  data-shopinvader-container id="cart-address">
  {% if current_customer == null%}
    {% assign partner_shipping = []%}
    {% if params.partner_shipping %}
      {% assign partner_shipping = params.partner_shipping %}
    {% endif %}

    <form method="put" action="invader/cart/update" id="cart_address">
      <input type="hidden" name="invader_success_url" value="{% path_to cart_checkout %}" />
      <input type="hidden" name="invader_error_url" value="{% path_to page %}" />
      <input type="hidden" name="step[current]" value="{{ page.handle }}">
      <input type="hidden" name="step[next]" value="cart_checkout">

      <div class="row justify-content-center">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <h2>{{ 'cart_shipping_address' | translate }}</h2>
            {% include "address_form"
            with input_group: 'partner_shipping',
            address: partner_shipping
            with_require: true %}
            <div class="row">
              <div class="col-12">
                <div class="form-check">
                  <label class="form-check-label">
                    <input name="invoicing[use_shipping_address]" class="form-check-input"
                    type="checkbox" autocomplete="off" data-toggle="collapse" data-target="#invoice_address_block"
                    {% if store.cart.invoicing.use_shipping_address == false %}checked="checked"{% endif%} value="0">
                    {{ 'cart_invoice_address_different' | translate }}
                  </label>
                </div>
                <div class="collapse  {% if store.cart.invoicing.use_shipping_address == false %}in{% endif%}" id="invoice_address_block">
                  <h2>{{ 'cart_invoice_address' | translate }}</h2>
                  {% if store.cart.invoicing.use_shipping_address == false %}
                    {%assign with_disabled_form = false%}
                  {%else%}
                    {%assign with_disabled_form = true%}
                  {% endif%}

                  {% include "address_form"
                    with input_group: 'partner_invoice',
                    with_require: true,
                    address: store.cart.invoicing.address,
                    with_disabled: with_disabled_form
                  %}
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-6">
                <a href="{% path_to page%}" class="btn btn-default">{{"cart_return" | translate}}</a>
              </div>
              <div class="col-6 text-right">
                <button type="submit" class="btn btn-primary" name="Submit">{{"cart_submit" | translate}}</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  {% elsif params.page_status == 'add_address' %}
    <form method="post" action="invader/address/create"  id="cart_address_add">
      <input type="hidden" name="invader_success_url" value="{% path_to page %}" />
      <input type="hidden" name="invader_error_url" value="{% path_to page %}?page_status=add_address" />
      <div class="row justify-content-center">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            {% include "address_form" with address, with_require: true %}
            <div class="row">
              <div class="col-6">
                <a href="{% path_to page%}" class="btn btn-default">{{"cart_return" | translate}}</a>
              </div>
              <div class="col-6 text-right">
                <button type="submit" class="btn btn-primary" name="Submit">{{"cart_submit" | translate}}</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  {% elsif params.page_status == 'update_address' %}
    {% with_scope id: params.address_id %}
      {% assign address = store.addresses.first %}
    {% endwith_scope%}
    <form method="post" action="invader/address/{{address.id}}/update" id="cart_update_form">
      <input type="hidden" name="invader_success_url" value="{% path_to page %}" />
      <input type="hidden" name="invader_error_url" value="{% path_to page %}?page_status=update_address" />
      <div class="row">
        <div class="col-12">
          <div class="row justify-content-center">
            <div class="col-12">
              <div class="card">
                <div class="card-body">
                  {% include "address_form" with address, with_require: true %}
                  <div class="row">
                    <div class="col-6">
                      <a href="{% path_to page%}" class="btn btn-default">{{"cart_return" | translate}}</a>
                    </div>
                    <div class="col-6 text-right">
                      <button type="submit" class="btn btn-primary" name="Submit">{{"cart_submit" | translate}}</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </form>
  {% else %}
    <form method="put" action="invader/cart/update" id="cart_address">
      <input type="hidden" name="invader_success_url" value="{% path_to cart_checkout %}" />
      <input type="hidden" name="invader_error_url" value="{% path_to page %}" />
      <input type="hidden" name="step[current]" value="{{ page.handle }}">
      <input type="hidden" name="step[next]" value="cart_checkout">
      <div class="row">
        <div class="col-lg-8 col-xl-9">
          <h2>{{'cart_shipping_address' | translate}}</h2>
          {% include "address_book" with
            input_group: 'shipping',
            input_name: 'shipping[address][id]',
            address_list:  store.addresses,
            selected_address_id : store.cart.shipping.address.id,
            display_delector: true,
            display_add: true
          %}
          <div class="checkbox">
            <label>
              <input type="checkbox" name="invoicing[use_shipping_address]" value="0" data-toggle="collapse" data-target="#invoice_address">
              {% editable_text checkout_button, fixed: true, rows: 1 %}
                Use different invoice address.
              {% endeditable_text %}
            </label>
          </div>
          <div class="collapse" id="invoice_address">
            <h2>{{'cart_invoice_address' | translate}}</h2>
            {% include "address_book" with
              input_group: 'invoicing',
              input_name: 'invoicing[address][id]',
              address_list:  store.addresses,
              selected_address_id : store.cart.invoicing.address.id,
              display_delector: true,
              display_add: true
            %}
          </div>
        </div>
        <div class="col-lg-4 col-xl-3 mb-4">
          {% include 'cart_total' with cart: store.cart  %}
          <button class="btn btn-primary text-lg btn-lg  btn-block btn-block-xs" type="submit">
            {% editable_text checkout_button, fixed: true, rows: 1 %}
              Continuer <i class="fa fa-angle-right"></i>
            {% endeditable_text %}
          </button>
        </div>
      </div>

    </form>
  {%endif%}
</div>
{% endblock %}
{% block 'javascripts' %}
  {{ 'address_autocomplete.js' | javascript_tag }}
  <script src="https://maps.googleapis.com/maps/api/js?key={{site.metafields.google.maps_api_key}}&libraries=places&callback=initAutocomplete" async defer></script>
{% endblock %}
